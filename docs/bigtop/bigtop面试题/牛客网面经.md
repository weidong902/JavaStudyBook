## 字节：

### 1、SQL：用户表，年龄，求哪个年龄的用户最多。
```sql
select age, count(age)  count from test group by age order by count desc limit 0 ,1;
```
# 牛客面经
## 一、微众银行java工程师社招面经 一面
### 1. 我看你们项目用过redis,你知道redis常见的数据类型有哪些吗？
* 常用的有五种：
	* String：
	* Hash：（底层实现是：ziplist压缩列表和hashtable哈希表）
	* List：
	* set：
	* zSet：
* 还有三种不常用的：bitmaps、hyperloglogs、streams
###  2. 你们平时用redis做些什么？
* redis常被用来做缓存服务，比如一些常被用到的信息，我们都是放到了缓存中，这样查的时候先去查缓存，因为缓存的查询速度较快，这样可以大大提高我们的查询效率，减轻数据库的压力。比如像：银行网点信息我们使用到Hash存储每一条网点信息，这样通过条件在查联行信息的时，可以快速取出如有修改随时进行更新，以保证数据实时。还有像网银的签约信息我们也是存入到redis中的，因为银行对数据的准确性要求较高，在每一笔交易进来，都会对网银客户号的签约信息做校验，因此签约信息也是一个访问量较高的信息，客户签约网银后，我们在入库的同时也会将数据写入到redis缓存中，来辅助账户规则的校验。等一些别的缓存数据。
* 还会来做全局ID，因为我们会在每个客户现场部署一台前置机，如果有大批量的付款交易进来时，我们通过redis来保证每个请求的交易流水号不相同，以应对高并发情况下交易流水号冲突的问题。
###  3. 你知道redis为什么快吗？
* Redis运行在内存中；
* 采用了多路复用io阻塞机制；
* 数据结构简单，操作节省时间。
###  4. redis的持久化机制说一下。
* Redis的持久化有两种机制，RDB和AOF
###  5. redis如何实现分布式锁？
###  5.redis单线程？
* 官方解释：因为Redis的瓶颈不是cpu的运行速度，而往往是网络带宽和机器的内存大小。再说了，单线程切换开销小，容易实现既然单线程容易实现，而且CPU不会成为瓶颈，那就顺理成章地采用单线程的方案了。
### Redis应用场景？
* 缓存：应用于缓存是Redis最为人所熟知的。
* 排行榜：使用Zset可以轻松实现关系型数据的实现较复杂
* 计数器、速时器:利用redis自增的特点可以做类似于：点赞、用户访问量（Redis诞生好像就是为了计数用的。）
* 好友关系：集合的命令，数学上的交集、并集、差集。（共同好友，共同爱好）
* 简单的消息队列：利用List的队列机制。到货通知、邮件发送、、
* Session共享：集群部署的项目中，用户登录可能会落在不同的服务器上，这就会导致用户的频繁登录，将用户的登录信息缓存到Redis服务器上，这样无论客户请求落在哪一台服务器上都能正常访问，不用频繁登录。
###  6. 你知道什么是Spring的AOP吗？
* 面向切面编程，其底层是实现就是动态代理，在程序运行中动态的对程序进行功能上的增强。主要点其实就是通知和切入点，组装成的切面。
###  7. 你知道AOP的底层实现原理吗？
动态代理，默认情况下使用的是JDK提供的动态代理，也可以转换成Spring提供的CGLib，CGLib其实是Spring对JDK动态代理又一层封装，实现基于实现类的动态代理。
###  8. JDK动态和CGLIB动态的区别
* JDK的动态代理是JVM提供的基于接口的实现，代理对象只能赋值给接口，不能赋值给实现类；
* CGLIB是基于实现类提供的代理，其生成的代理对象可以赋值给接口实现类，也可以赋值给接口。

###  9. 哪种情况下用JDK动态***，哪种情况下用CGLIB动态***？
 - 1、如果目标对象实现了接口，默认情况下会采用JDK的动态代理实现AOP
 -  2、如果目标对象实现了接口，可以强制使用CGLIB实现AOP  
  - 3、如果目标对象没有实现了接口，必须采用CGLIB库，spring会自动在JDK动态代理和CGLIB之间转换 

### 11. 用过什么设计模式吗？（我说平时基本都是开发功能模块的多，用到设计模式的比较少，但是读源码时会注意一些设计模式的实现，如JDK IO的体系，HttpServlet，Spring中的设计模式）

### 12. 单例模式的几种实现方式

### 13. 说一下数据库优化思路？

### 14. 你知道回表吗？

### 15. mysql常见的执行引擎有哪些？

### 16. 索引的实现原

### 17. B树和B+树的区别？

### 18. 线程池原理？

### 19. ConcurrentHashMap各版本的差异？

### 20. HashTable为什么效率低？

### 21. HashTable有没有对整个类加锁？（原来看过源码，基本所有方法都用了synchronize关键字，我说没有）














