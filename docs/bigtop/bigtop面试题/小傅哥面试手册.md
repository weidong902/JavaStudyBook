## 1. 自我介绍

1. 1 分钟左右的自我介绍，简要的描述出;姓名、毕业时间、工作年限、 工作经历、技术影响力[博客、Github、开源贡献、专利]等。
2. 如果有较大型项目或者大家有一致性认知的项目和技术难点攻克，可以 简单说出项目名称等。
3. 方法论沉淀相关;架构设计能力、带过小组或者团队、跨部门协调、流 程规范制定和执行等。

你要透露出的核心点就是个人的一个基本信息，以及项目和技术上的沉淀，给面 试官留出和你聊下去的话题
 例如:
 面试官好，我叫谢飞机，16 年毕业于天津工业大学，软件工程专业，目前已工作 4 年。我从毕业后就职于途乐数字科技，负责营销和订单系统开发。在系统搭建、 代码优化、问题处理上有较丰富的经验和处理能力。同时也喜欢写一些技术博客 和看一些技术书籍，另外在 Spring、Dubbo 等源码学习上有过一些研究以及复用 到业务开发中。感谢!

---

## 4.1 技能

### 4.1.1 Java

### JDK 源码

#### \1. HashMap

 \1. HashMap 的数据结构(1.7、1.8 的区别) 2. HashMap 的实现原理
 \3. HashMap 扩容为什么是 2^n-1
 \4. HashMap 是线程安全的吗

\5. HashMap、HashTable 是什么关系?

####  2. ThreadLocal

\1. 讲讲你对 ThreadLocal 的一些理解 2. ThreadLocal 有哪些应用场景
 \3. 了解过 FastThreadLocal 吗

#### \3. ArrayList、LinkList

 \1. 是否保证线程安全

\2. 底层数据结构
 \3. 插入和删除是否受元素位置的影响
 \4. 是否支持快速随机访问
 \5. 内存空间占用
 \6. 如何进行扩容的，默认初始化空间是多少

#### \4. String StringBuffer StringBuilder 

1. 有什么区别

\2. 是线程安全的吗 5. jdk1.8 的新特性

\1. lambda 表达式
 \2. Functional Interfaces
 \3. Optionals
 \4. Stream 流
 \5. Parallel-Streams 并行流

并发编程(j.u.c)

\1. volatile
 \1. volatile 的作用和使用场景 2. volatile 如何保证指令重排 3. 什么情况下会发生指令重排

\2. synchronized
 \1. 一般用在什么场景

\2. 实现原理
 \3. 锁升级过程(偏向锁、轻量级锁、重量级锁)
 \4. 这是 JVM 层面锁，还是 JDK 层面锁{JVM 层面} 5. 这是一种悲观锁还是乐观锁{悲观锁是独占锁}

\3. lock
 \1. 这是 JVM 层面锁，还是 JDK 层面锁{JDK 层面} 2. 这是一种悲观锁还是乐观锁
 \3. 是可重入锁吗

\4. ReentrantLock
 \1. 与 synchronized 相比较有什么不同

14 / 417 小傅哥，公众号:bugstack 虫洞栈 | 沉淀、分享、成长，让自己和他人都能有所收获

1. ReentrantLock 与 Lock 的关系
2. 锁过程中是否可中断，与之对应的 synchronized 可中断吗

\5. CAS

1. Unsafe 类的作用
2. CAS 的理解(compareAndSet)
3. 什么是 ABA 问题
4. CAS 的实现有什么(AtomicInteger)

\6. AQS

1. 实现类有哪些 ReentrantLock、Semaphore、CountDownLatch、

   ```
               CyclicBarrier
   ```

2. 实现了 AQS 的锁有哪些 自旋锁、互斥锁、读锁写锁、条件产量、

   信号量、栅栏都是 AQS 的衍生物 内存屏障，几乎所有的处理器至 少支持一种粗粒度的屏障指令，通常被称为“栅栏(Fence)”

多线程

\1. 线程池的种类
 \1. newCachedThreadPool

\2. newFixedThreadPool
 \3. newScheduledThreadPool 4. newSingleThreadExecutor

\2. 线程的生命周期
 \1. 新建、就绪、运行、阻塞(等待阻塞、同步阻塞、其他阻塞)、死

亡

\1. GC 优化
 \2. JVM 逃逸分析
 \3. 类的对象头都包括什么
 \4. new Object() 初始化都做了什么 5. 运行时数据区
 \6. Java 的内存模型以及 GC 算法

设计模式

\1. 设计模式 6 大原则 单一职责(一个类和方法只做一件事)、里氏替换(多 态，子类可扩展父类)、依赖倒置(细节依赖抽象，下层依赖上层)、接口 隔离(建立单一接口)、迪米特原则(最少知道，降低耦合)、开闭原则(抽 象架构，扩展实现)

JVM

1. 创建型模式 这类模式提供创建对象的机制， 能够提升已有代码的灵活 性和可复用性。
2. 结构型模式 这类模式介绍如何将对象和类组装成较大的结构， 并同时 保持结构的灵活和高效。
3. 行为模式 这类模式负责对象间的高效沟通和职责委派。

反射、代理

\1. 怎么实现反射调用方法
 \2. 怎么代理一个类，有什么场景使用 3. 类代理的原理是什么
 \4. 有什么框架可以做类代理

4.1.2 Redis

命令

\1. 计数命令 2. 排序命令 3. 加锁命令

架构

\1. 常用的数据类型
 \2. 数据淘汰策略
 \3. 单线程的为什么那么快 4. RDB 和 AOF 的优缺点
 \5. 持久化策略选择

应用

\1. 缓存雪崩、缓存穿透、缓存预热、缓存更新、缓存降级 2. Pipeline 有什么好处，为什么要用 pipeline
 \3. 是否使用过 Redis 集群，集群的原理是什么
 \4. Redis 的同步机制了解么

4.1.3 Mysql

锁

\1. 全局锁 2. 表锁

16 / 417 小傅哥，公众号:bugstack 虫洞栈 | 沉淀、分享、成长，让自己和他人都能有所收获

\3. 行锁
 \4. 乐观锁、悲观锁 5. 排他锁
 \6. 锁优化

事务

\1. 事物特征
 \2. 脏读
 \3. 幻读
 \4. 不可重复读 5. 事物隔离

\6. 并发事物
 \7. 事物实现原理

日志

\1. 慢查询日志
 \2. 错误日志
 \3. redo log(重做日志) 4. binlog(归档日志)
 \5. undo log(回滚日志)

索引

\1. 聚集索引 VS 非聚集索引 2. 最左匹配原则
 \3. 前缀索引

引擎

\1. InnoDB 2. MyISAM

4.2 框架

4.2.1 Spring

\1. Bean 的注册过程
 \2. Bean 的定义都包括什么信息

17 / 417 小傅哥，公众号:bugstack 虫洞栈 | 沉淀、分享、成长，让自己和他人都能有所收获

\3. Spring 事务中的隔离级别有哪几种 4. schedule 使用

4.2.2 Mybatis

1. mybatis 在 spring 的使用中，只需要定义接口，就可以和 xml 中的配置 的 sql 语句，进行关联，执行数据库增删改查操作。怎么实现的
2. session 是怎么管理的

4.3.3 SpringBoot

\1. SpringBoot 怎么开发一个自己的 Stater

4.2.4 SpringCloud

1. spring cloud 断路器的作用是什么

2. spring cloud 的核心组件有哪些 Eureka:服务注册于发现。 Feign:

   基于动态代理机制，根据注解和选择的机器，拼接请求 url 地址，发起 请求。 Ribbon:实现负载均衡，从一个服务的多台机器中选择一台。 Hystrix:提供线程池，不同的服务走不同的线程池，实现了不同服务调 用的隔离，避免了服务雪崩的问题。 Zuul:网关管理，由 Zuul 网关转 发请求给对应的服务。

4.3 组件

4.3.1 Dubbo

1. 通信模型是什么样的

2. Dubbo 和 Spring Cloud 有什么区别

3. dubbo 都支持什么协议，推荐用哪种 dubbo://(推荐) rmi://

   ```
         hessian:// http:// webservice:// thrift:// memcached://
   ```

   ```
         redis:// rest://
   ```

4. Dubbo 里面有哪几种节点角色

5. Dubbo 中怎么处理的超时断开

4.3.2 Mq

1. RabbitMq
2. Kafka

4.3.3 elasticsearch

18 / 417 小傅哥，公众号:bugstack 虫洞栈 | 沉淀、分享、成长，让自己和他人都能有所收获

1. elasticsearch 了解多少，说说你们公司 es 的集群架构，索引数据大 小，分片有多少，以及一些调优手段 。
2. elasticsearch 的倒排索引是什么
3. elasticsearch 是如何实现 master 选举的
4. 详细描述一下 Elasticsearch 搜索的过程

4.3.4 Hbase

\1. 拓展类问题

4.3.5 otter

\1. 拓展类问题

4.4 工具

\1. Idea
 \2. Maven
 \3. Jenkins 4. JMeter

4.5 架构

4.5.1 系统搭建

\1. MVC
 \2. DDD 领域驱动设计

4.5.2 数据库设计

\1. 分库分表(水平拆分、垂直拆分) 2. 业务场景
 \3. 基础配置优化相关

4.5.3 服务治理

\1. 负载均衡 2. 熔断
 \3. 降级
 \4. 限流

19 / 417 小傅哥，公众号:bugstack 虫洞栈 | 沉淀、分享、成长，让自己和他人都能有所收获

\5. 黑白名单

4.5.4 分布式任务

\1. xxl-job

4.5.5 监控

\1. 系统非入侵全链路监控
 \2. TP99、TP999、QPS、TPS 的熟悉程度

4.5.6 压测

\1. 是否压测过，有无经验 2. 对系统健壮性的把控
 \3. JVM 参数
 \4. GC 调优

\5. 代码优化

4.6 环境

\1. Linux 2. Tomcat 3. docker 4. k8s

\5. 项目

5.1 项目经验

\1. 开发了哪些项目 2. 重点项目是什么 3. 你主要负责哪些 4. 有过什么优化

5.2 工作业绩

\1. 中大型项目架构能力 2. 复杂项目落地能力

20 / 417 小傅哥，公众号:bugstack 虫洞栈 | 沉淀、分享、成长，让自己和他人都能有所收获

\3. 重点项目执行落地 4. 交付能力&质量

5.3 技术沉淀

\1. 方法论
 \2. 流程规范制定
 \3. 交付质量
 \4. 公用组件建设
 \5. 开源项目
 \6. 复杂架构设计经验 7. 团队技术分享

5.4 工程师品质

\1. 认知范围，技术、业务、运营 2. 学习能力，接受能力
 \3. 创新技术，迁移能力

5.5 疑难问题处理

\1. 复杂问题推进解决能力 2. 紧急事故解决能力

5.6 项目推进

\1. 中大型项目推进落地 2. 资源协调安排
 \3. 流程规范实施

5.7 专业影响力

\1. 项目推进过程中方案执行落地
 \2. 带动他人共同完成，并赋予能力提升 3. 技术价值创造
 \4. 开源项目和专利

21 / 417 小傅哥，公众号:bugstack 虫洞栈 | 沉淀、分享、成长，让自己和他人都能有所收获

#### \6. 个人&面试官

##### 6.1 个人

\1. 可能会有一个人性的问题 2. 介绍自己部门是什么的
 \3. 其他你早点入职

##### 6.2 面试官

\1. 部门主要做什么业务
 \2. 入职后承担哪块
 \3. 有什么技术挑战需要提前学习了解的

四、总结

-   结合以上框架内容看自己是否是一个能抗住打的求职者，综合素质是否 全面，技术栈广度、深度是否在瓶颈里徘徊，思考下怎么突破。
-   面试只是一份求职的开始，面试题也只是学习过程的知识点总结，只流 于背题很容易被问倒。不同的面试官风格、水平、关注点也都不同，只 有自己学扎实了才能随心所面。
-   以上的技术框架总结有一个 xmind 思维导图，以及面试简历，都可以通 过在公众号:bugstack 虫洞栈，回复资源下载进行获取。获取链接打开， 找到 ID:19

## 系统架构



![image-20210128101710421](%E5%B0%8F%E5%82%85%E5%93%A5%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%8C.assets/image-20210128101710421.png)

### 1. 负载

1. 1. LVS 的英文全称是 Linux Virtual Server，即 Linux 虚拟服务器，主要 用于多服务器的负载均衡。

2. 2. F5 是负载均衡产品的一个品牌，除此以外还有，Radware、Array、 A10、Cisco 等。

3. 3. Nginx 就比较常见，它是由 C 语言编写的，是一个高性能的 HTTP 和反向 代理 web 服务器，同时也提供了 IMAP/POP3/SMTP 服务。

### 2. 网关

1. 使用过 SpringCloud 的小伙伴都用过 zuul，或者公司内部自研，以及把 RPC 接口转换为 Http 接口的一种服务。

2. 为了方便客户端调用微服务，所以设计出了网关。在微服务实例地址发 生改变的情况下，客户端调用服务要能够不受影响。
3. 网关可以完成的功能:路由、反向代理、日志记录、权限控制、限流、 切量、黑白名单等

3. 网关可以完成的功能:路由、反向代理、日志记录、权限控制、限流、 切量、黑白名单等





![image-20210128193521847](%E5%B0%8F%E5%82%85%E5%93%A5%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%8C.assets/image-20210128193521847.png)

### 第一节：HashCode 为什么使用 31 作为乘数?

*  31 是一个奇质数，如果选择偶数会导致乘积运算时数据溢出。

* 另外在二进制中，2个5次方是32，那么也就是 31*i==(i<<5)-i这主要是说乘积运算可以使用位移提升性能，同时目前的 JVM 虚拟机 也会自动支持此类的优化。

- 这个回答就很有实战意义了，告诉你用超过 5 千个单词计算 hashCode， 这个 hashCode 的运算使用 31、33、37、39 和 41 作为乘积，得到的碰撞 结果，31 被使用就很正常了。

``` 
自言自语：
散列算法：

在保证数据不丢失的情况下 ，碰撞最小，散列最均匀。
hashCode的目的类似于化学中的熵，尽量让熵值小，熵值越大越活跃，碰撞几率就高。
```

### 第二节：HashMap 源码分析(上)

HashMap 最早出现在 JDK 1.2 中，底层基于`散列算法`实现。`HashMap 允许 null 键和 null 值，在计算哈键的哈希值时，null 键哈希值为 0。`HashMap 并`不保证键值对的顺序`，这意味着在进行某些操作后，键值对的顺序可能会发生变化。 另外，需要注意的是，`HashMap 是非线程安全类`，在多线程环境下可能会存在问 题 。

HashMap 最早在 JDK 1.2 中就出现了，底层是基于散列算法实现，随着几代的优 化更新到目前为止它的源码部分已经比较复杂，涉及的知识点也非常多，在 JDK 1.8 中包括;`1、散列表实现、2、扰动函数、3、初始化容量、4、负载因子、5、扩容元 素拆分、6、链表树化、7、红黑树、8、插入、9、查找、10、删除、11、遍历、12、分 段锁`等等，因涉及的知识点较多所以需要分开讲解，本章节我们会先把目光放在 前五项上，也就是关于数据结构的使用上。

#### 扰动函数

hashMap 源码这里不只是直接获取哈希值，还进行了一次扰动计算，(h = key.hashCode()) ^ (h >>> 16)。把哈希值右移 16 位，也就正好是自己长度的一 半，之后与原哈希值做异或运算，这样就混合了原哈希值中的高位和低位，增大 了随机性。

![image-20210128214854286](%E5%B0%8F%E5%82%85%E5%93%A5%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%8C.assets/image-20210128214854286.png)

* 使用扰动函数就是为了增加随机性，让数据元素更加均衡的散列，减少碰撞。

- 从这两种的对比图可以看出来，在使用了扰动函数后，数据分配的更加均匀了。
- 数据分配均匀，也就是散列的效果更好，减少了 hash 的碰撞，让数据存放和获取的效率更佳。























